# å®‰è£…

é˜¿é‡Œäº‘ECSå­¦ç”Ÿæœº

## ç¯å¢ƒ

```shell
  # ç³»ç»Ÿå†…æ ¸æ˜¯3.0ä»¥ä¸Š
  [root@izbp17sv1gobpgrxijfogfz ~]# uname -r
  3.10.0-514.26.2.el7.x86_64
  # centos 7ï¼ˆé˜¿é‡Œäº‘å­¦ç”Ÿæœº ğŸ˜ï¼‰
  [root@izbp17sv1gobpgrxijfogfz /]# cat /etc/os-release 
  NAME="CentOS Linux"
  VERSION="7 (Core)"
  ID="centos"
  ID_LIKE="rhel fedora"
  VERSION_ID="7"
  PRETTY_NAME="CentOS Linux 7 (Core)"
  ANSI_COLOR="0;31"
  CPE_NAME="cpe:/o:centos:centos:7"
  HOME_URL="https://www.centos.org/"
  BUG_REPORT_URL="https://bugs.centos.org/"

  CENTOS_MANTISBT_PROJECT="CentOS-7"
  CENTOS_MANTISBT_PROJECT_VERSION="7"
  REDHAT_SUPPORT_PRODUCT="centos"
  REDHAT_SUPPORT_PRODUCT_VERSION="7"
```
## å®‰è£…

> Linuxï¼ˆcentos 7ï¼‰: https://docs.docker.com/engine/install/centos/

1. å¸è½½æ—§ç‰ˆæœ¬

2. å®‰è£…å®‰è£…åŒ…

3. è®¾ç½®é•œåƒçš„ä»“åº“ï¼ˆå®˜æ–¹é»˜è®¤æ˜¯å›½å¤–çš„ååˆ†æ…¢ï¼Œç”¨å›½å†…çš„ï¼‰

  ```shell
    [root@izbp17sv1gobpgrxijfogfz ~]# yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo
  ```

4. å®‰è£… docker å¼•æ“

  > æ¨èå®‰è£…å‰æ›´æ–°yumè½¯ä»¶åŒ…ç´¢å¼•
  > yum makecache fast

  ```shell
    # ce æ˜¯ç¤¾åŒºç‰ˆ ee æ˜¯ä¼ä¸šç‰ˆ
    [root@izbp17sv1gobpgrxijfogfz ~]# sudo yum install docker-ce docker-ce-cli containerd.io
  ```

5. å¯åŠ¨ docker

  ```shell
    [root@izbp17sv1gobpgrxijfogfz ~]# systemctl start docker
  ```

6. æµ‹è¯•æ˜¯å¦å®‰è£…æˆåŠŸ

  ```shell
      [root@izbp17sv1gobpgrxijfogfz ~]# docker version
      Client: Docker Engine - Community
      Version:           20.10.7
      API version:       1.41
      Go version:        go1.13.15
      Git commit:        f0df350
      Built:             Wed Jun  2 11:58:10 2021
      OS/Arch:           linux/amd64
      ...
  ```

7. æŸ¥çœ‹ docker é•œåƒ

  ```shell
    # è¿è¡Œ hello-world
    [root@izbp17sv1gobpgrxijfogfz ~]# docker run hello-world
    Unable to find image 'hello-world:latest' locally # æ‰¾ä¸åˆ° hello-word é•œåƒ
    latest: Pulling from library/hello-world  # pull æœ€æ–°çš„ hello-world é•œåƒ
    b8dfde127a29: Pull complete # æ‹‰å–å®Œæˆ
    Digest: sha256:0fe98d7debd9049c50b597ef1f85b7c1e8cc81f59c8d623fcb2250e8bec85b38
    Status: Downloaded newer image for hello-world:latest

    Hello from Docker!
    ...

    [root@izbp17sv1gobpgrxijfogfz ~]# docker images
    REPOSITORY    TAG       IMAGE ID       CREATED        SIZE
    hello-world   latest    d1165f221234   4 months ago   13.3kB
  ```

8. å¸è½½ docker

  ```shell
    # å¸è½½ä¾èµ–
    sudo yum remove docker-ce docker-ce-cli containerd.io
    # åˆ é™¤èµ„æº
    sudo rm -rf /var/lib/docker  # æ­¤å¤„ä¸ºdockeré»˜è®¤èµ„æºè·¯å¾„
    sudo rm -rf /var/lib/containerd
  ```